(this["webpackJsonptest-project-20210119"]=this["webpackJsonptest-project-20210119"]||[]).push([[3],{192:function(e,t){},200:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(41),i=n.n(r),o=function(e){e&&e instanceof Function&&n.e(14).then(n.bind(null,456)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},s=n(296),l=n(271),j=n(50),d=n(40),b=n(54),u=(n(175),n(176),n(177),{apiKey:"AIzaSyCEOklAB3zaJTte1C6xEty4wpdpwB-TGvM",authDomain:"voypostapp-53459.firebaseapp.com",projectId:"voypostapp-53459",storageBucket:"voypostapp-53459.appspot.com",messagingSenderId:"807673757450",appId:"1:807673757450:web:4e019179a7e992140144f3"}),h=b.a.initializeApp(u),p=n(146),O=Object(p.a)({typography:{h1:{fontSize:40,fontWeight:700,lineHeight:2.8,letterSpacing:.15},h2:{fontSize:28,fontWeight:600,lineHeight:.857142857,letterSpacing:.15},h3:{fontSize:20,fontWeight:600,lineHeight:.5,letterSpacing:.15},h4:{fontSize:14,fontWeight:600,lineHeight:.8,letterSpacing:.15}},palette:{primary:{main:"rgb(245, 0, 87)"},secondary:{main:"rgb(255, 255, 255)"}},components:{MuiAppBar:{styleOverrides:{root:{position:"sticky",top:0,zIndex:100,height:60,padding:"10px 10px",background:"rgb(245, 0, 87)"}}},MuiAutocomplete:{styleOverrides:{root:{position:"sticky",top:70,maxWidth:600,zIndex:100,marginLeft:16}}},MuiCard:{styleOverrides:{root:{display:"flex",marginBottom:20,width:"30vw"}}},MuiGrid:{styleOverrides:{root:{marginTop:40,textAlign:"center"}}},MuiButton:{styleOverrides:{root:{background:"rgb(245, 0, 87)",border:"transparent",fontSize:15,":disabled":{color:"rgb(255,255,255)"},":hover":{background:"rgba(245, 0, 87, 0.6)"}}}},MuiLink:{styleOverrides:{root:{display:"inline-block",textDecoration:"none",padding:12,fontSize:13,fontWeight:500,lineHeight:1.69,letterSpacing:.46,textTransform:"uppercase"}}},MuiTextField:{styleOverrides:{root:{fontSize:14,borderRadius:4,"& .MuiOutlinedInput-root":{backgroundColor:"rgba(0, 0, 0, 0.09);"}}}},MuiAvatar:{styleOverrides:{root:{width:32,height:32,overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))","& .MuiAvatar-root":{width:32,height:32},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}}}}}),x=n(13),f=n(27),g=n(282),m=n(3),v=function(e){var t=e.children;return Object(m.jsx)(g.a,{children:t})},y=n(283),w=n(279),S=n.p+"static/media/Hero.689d5f6c.jpg",k=n.p+"static/media/logo.3f3d52ea.svg",B=function(e){var t=e.children;return Object(m.jsxs)(g.a,{display:"flex",children:[Object(m.jsx)(g.a,{children:Object(m.jsx)("img",{src:S,alt:"house with three"})}),Object(m.jsx)(g.a,{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginLeft:"auto",marginRight:"auto",children:Object(m.jsxs)(y.a,{fixed:!0,maxWidth:"sm",children:[Object(m.jsx)(w.a,{mt:6,mb:3,textAlign:"center",children:Object(m.jsx)("img",{src:k,alt:"logo"})}),t]})})]})},C=n(284);function I(){return Object(m.jsx)(g.a,{sx:{display:"flex"},children:Object(m.jsx)(C.a,{})})}var z=n(138),A=n(291),D=n(52),N=n.n(D),M=n(87),F=n(64),P=n(276),E=n(274),L=n(139),T=function(e){var t=e.handleSearchValue,n=Object(L.a)(),c=n.ready,a=n.suggestions.data,r=n.setValue,i=Object(f.h)(),o=Object(f.g)();return Object(m.jsx)(P.a,{freeSolo:!0,disableClearable:!0,options:a,disabled:!c,onInputChange:function(){var e=Object(M.a)(N.a.mark((function e(n,c){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"string"===typeof c&&(r(c),t(c),n=c,o.push(Object(F.a)(Object(F.a)({},i),{},{search:"city=".concat(n)})));case 1:case"end":return e.stop()}var n}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getOptionLabel:function(e){var t=e.description;return t?"".concat(t):""},renderInput:function(e){return Object(m.jsx)(E.a,Object(F.a)(Object(F.a)({color:"warning"},e),{},{label:"City",InputProps:Object(F.a)(Object(F.a)({},e.InputProps),{},{type:"search"})}))}})},H=n(287),W=n(277),V=n(288),U=n(289),J=n(290),R=n(292),G=n(293),K=n(273),Y=Object(K.a)({card:{height:240},cardMedia:{display:"block",width:290,objectFit:"fill"},descriptionBox:{width:199,height:99,overflow:"hidden"},detailsButton:{background:"rgba(245, 0, 87, 0.08)",borderRadius:4}}),_=function(e){var t=e.cards,n=e.activeItem,c=Y();return Object(m.jsx)(H.a,{children:null===t||void 0===t?void 0:t.map((function(e){var t=e.imgUrl,a=e.location,r=e.id,i=e.description,o=e.price,s=r===n;return Object(m.jsx)(W.a,{children:Object(m.jsxs)(V.a,{className:c.card,elevation:s?3:1,children:[Object(m.jsx)(U.a,{className:c.cardMedia,component:"img",image:t,alt:"flats"}),Object(m.jsxs)(J.a,{children:[Object(m.jsx)(A.a,{gutterBottom:!0,variant:"h3",color:"common.black",children:o}),Object(m.jsx)(A.a,{gutterBottom:!0,variant:"body2",component:"p",color:"text.secondary",sx:{mt:2},children:a}),Object(m.jsx)(g.a,{className:c.descriptionBox,children:Object(m.jsx)(A.a,{gutterBottom:!0,variant:"body1",component:"p",color:"text.secondary",sx:{mt:3},children:i})}),Object(m.jsx)(R.a,{children:Object(m.jsx)(G.a,{component:j.c,to:"/flats/".concat(r),className:c.detailsButton,color:"primary",children:"Details"})})]})]})},r)}))})},q=n(114),Q=Object(K.a)({container:{position:"fixed",width:"65vw",height:"95vh",backgroundColor:"#BDBDBD;"},title:{textAlign:"center"}}),X=function(){var e=Q();return Object(m.jsx)(g.a,{className:e.container,children:Object(m.jsx)(A.a,{className:e.title,p:50,color:"secondary",variant:"h3",children:"Loading flat details"})})},Z=Object(K.a)({container:{position:"fixed",width:"65vw",height:"95vh",backgroundColor:"#BDBDBD;"},title:{textAlign:"center"}}),$=function(){var e=Z();return Object(m.jsx)(g.a,{className:e.container,children:Object(m.jsx)(A.a,{className:e.title,p:50,color:"secondary",variant:"h3",children:"Failed to load the flat"})})},ee=Object(K.a)({container:{width:"60vw",position:"sticky",top:70}}),te={width:"65vw",height:"100vh"},ne=function(e){var t=e.setActiveItem,n=Object(f.i)().flatsId,a=ee(),r=Object(c.useState)(),i=Object(x.a)(r,2),o=i[0],s=i[1],l=Object(c.useState)([]),j=Object(x.a)(l,2),b=j[0],u=j[1],h=Object(d.b)().collection("flats").doc(n),p=Object(d.d)(h,{idField:"id"}),O=p.error,v=p.status,y=p.data;Object(c.useEffect)((function(){y&&n&&(u(y),t(n))}),[y,n,t]);var w=b.lat,S=b.lng;Object(c.useEffect)((function(){s({lat:w,lng:S})}),[n,w,S]);var k="loading"===v,B="success"===v,C="error"===v||!y;return Object(m.jsxs)(g.a,{className:a.container,children:[k&&Object(m.jsx)(X,{}),B&&Object(m.jsx)(q.a,{mapContainerStyle:te,zoom:18,center:o,children:Object(m.jsx)(q.b,{position:o})}),O||C&&Object(m.jsx)($,{})]})},ce=Object(K.a)({container:{position:"fixed",width:"60vw",height:"90vh",backgroundColor:"#BDBDBD;",margin:5},title:{textAlign:"center"}}),ae=function(){var e=ce();return Object(m.jsx)(g.a,{className:e.container,children:Object(m.jsx)(A.a,{className:e.title,p:50,color:"secondary",variant:"h3",children:"No flat selected"})})},re=function(){var e=Object(c.useState)(""),t=Object(x.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),i=Object(x.a)(r,2),o=i[0],s=i[1],l=Object(f.h)(),j=z.parse(l.search.slice(1)).city;Object(c.useEffect)((function(){"string"===typeof j&&a(j)}),[j,a]);var b=Object(d.b)().collection("flats").orderBy("location","desc").limit(20),u=Object(d.c)(b,{idField:"id"}).data;return Object(m.jsxs)(g.a,{sx:{display:"flex"},children:[Object(m.jsxs)(g.a,{children:[Object(m.jsx)(T,{handleSearchValue:function(e){a(e)}}),Object(m.jsx)(A.a,{ml:2,mt:3,gutterBottom:!0,variant:"h2",component:"h2",children:"Flats to rent"}),Object(m.jsx)(_,{activeItem:o,cards:n?null===u||void 0===u?void 0:u.filter((function(e){return e.location.includes(n)})):u})]}),Object(m.jsxs)(g.a,{children:[!o&&Object(m.jsx)(ae,{}),Object(m.jsx)(f.b,{exact:!0,path:"/flats/:flatsId",children:Object(m.jsx)(ne,{setActiveItem:s})})]})]})},ie=function(){return Object(m.jsx)(g.a,{children:Object(m.jsx)(re,{})})},oe=n(294),se=n(295),le=n(144),je=n.n(le),de=n(281),be=n(145),ue=n(278),he=n(270),pe=n(285),Oe=n(280),xe=n(143),fe=n.n(xe),ge=n(120),me=Object(K.a)({box:{display:"flex",alignItems:"center",textAlign:"center"}}),ve=function(){try{var e=globalThis._reactFirePreloadedObservables;Array.from(e.keys()).forEach((function(t){return t.includes("firestore")&&e.delete(t)}))}catch(t){console.log(t)}},ye=n(89),we=function(e){var t,n=e.split(" "),c=null===(t=n[0])||void 0===t?void 0:t.substring(0,1).toUpperCase();return n.length>1&&(c+=n[n.length-1].substring(0,1).toUpperCase()),c};function Se(){var e=a.a.useState(null),t=Object(x.a)(e,2),n=t[0],r=t[1],i=Boolean(n),o=function(){r(null)},s=Object(f.g)(),l=me(),j=Object(d.e)(),b=j.data,u=(j.firstValuePromise,Object(c.useContext)(ye.a).setAlert),h=function(){var e=Object(M.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.a.auth().signOut();case 3:ve(),s.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0&&u({show:!0,severity:"error",message:"Logout fail ".concat(null===b||void 0===b?void 0:b.email)});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(g.a,{className:l.box,children:Object(m.jsx)(Oe.a,{title:"Account settings",children:Object(m.jsx)(pe.a,{onClick:function(e){r(e.currentTarget)},size:"small",sx:{ml:2},"aria-controls":i?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":i?"true":void 0,children:Object(m.jsx)(de.a,{sx:{ml:-.5,mr:1},children:b.displayName?we(null===b||void 0===b?void 0:b.displayName):"U"})})})}),Object(m.jsx)(be.a,{anchorEl:n,id:"account-menu",open:i,onClose:o,onClick:o,children:Object(m.jsxs)(ue.a,{onClick:h,children:[Object(m.jsx)(he.a,{children:Object(m.jsx)(fe.a,{fontSize:"small"})}),"Logout"]})})]})}var ke=function(){return Object(m.jsx)(oe.a,{children:Object(m.jsxs)(g.a,{display:"flex",justifyContent:"space-between",children:[Object(m.jsxs)(g.a,{display:"flex",justifyContent:"center",alignItems:"center",children:[Object(m.jsx)(se.a,{color:"primary",children:Object(m.jsx)(je.a,{color:"secondary"})}),Object(m.jsx)(A.a,{fontSize:20,color:"secondary",children:"Voypost"})]}),Object(m.jsx)(Se,{})]})})},Be=Object(c.lazy)((function(){return n.e(12).then(n.bind(null,464))})),Ce=Object(c.lazy)((function(){return n.e(13).then(n.bind(null,463))})),Ie=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,465))})),ze=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,466))})),Ae=function(){var e=Object(d.e)(),t=e.data,n=e.firstValuePromise,a=Object(c.useState)(!1),r=Object(x.a)(a,2),i=r[0],o=r[1],s=!!t;return Object(c.useEffect)((function(){n.then((function(){return o(!0)}))}),[n,o]),i?s?Object(m.jsxs)(v,{children:[Object(m.jsx)(ke,{}),Object(m.jsx)(c.Suspense,{fallback:Object(m.jsx)(I,{}),children:Object(m.jsxs)(f.d,{children:[Object(m.jsx)(f.b,{path:"/",component:Be,exact:!0}),Object(m.jsx)(f.b,{path:"/registration",component:function(){return Object(m.jsx)(f.a,{to:"/"})}}),Object(m.jsx)(f.b,{path:"/login",component:function(){return Object(m.jsx)(f.a,{to:"/"})}}),Object(m.jsx)(f.b,{path:"/flats",component:ie}),Object(m.jsx)(f.b,{path:"/",component:Ce})]})})]}):Object(m.jsx)(B,{children:Object(m.jsx)(c.Suspense,{fallback:Object(m.jsx)(I,{}),children:Object(m.jsxs)(f.d,{children:[Object(m.jsx)(f.b,{path:"/flats",component:function(){return Object(m.jsx)(f.a,{to:"/login"})}}),Object(m.jsx)(f.b,{path:"/registration",component:ze}),Object(m.jsx)(f.b,{path:"/login",component:Ie}),Object(m.jsx)(f.b,{path:"/",component:Ce})]})})}):null},De=function(){return Object(m.jsx)(d.a,{firebaseApp:h,children:Object(m.jsx)(s.a,{theme:O,children:Object(m.jsxs)(j.a,{basename:"/",children:[Object(m.jsx)(l.a,{}),Object(m.jsx)(ye.b,{children:Object(m.jsx)(Ae,{})})]})})})};i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(De,{})}),document.getElementById("root")),o()},89:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var c=n(13),a=n(1),r=n(211),i=n(212),o=n(3),s=Object(a.createContext)({}),l=function(e){var t=e.children,n=Object(a.useState)({show:!1,severity:"info",message:""}),l=Object(c.a)(n,2),j=l[0],d=l[1];return Object(o.jsxs)(s.Provider,{value:{setAlert:d},children:[t,Object(o.jsx)(i.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:j.show,autoHideDuration:3e3,onClose:function(){return d({show:!1})},children:Object(o.jsx)(r.a,{elevation:6,variant:"filled",severity:j.severity,children:j.message})})]})}}},[[200,7,9]]]);
//# sourceMappingURL=main.f9b207d6.chunk.js.map